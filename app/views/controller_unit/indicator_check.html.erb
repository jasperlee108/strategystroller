<div class="navbar">
	<div class="navbar-inner">
		<a class="brand" href="#"><%= t '.indicator_form_1' %></a>
		</ul>
	</div>
</div>
<style>
	input {
		width: 25em;
	}
	textarea {
		width: 50em;
	}
</style>
<%= render "setup_alerts" %>
<div class="well">
	<%= semantic_form_for @indicator, :url => indicator_check_path do |f| %>
	<%= f.inputs do %>
	<%= hidden_field_tag :entry_id, params[:entry_id] %>
	<%= hidden_field_tag :form_id, params[:form_id] %>
	<div class="row-fluid">
		<div class="span8">
			<%= f.input :name, :input_html => { :value => @current_indicator.name, :class => "span12" }, :required => true, :label => "Name of Indicator"  %>
		</div>
		<div class="span4">
			<%= f.input :short_name, :input_html => { :value => @current_indicator.short_name, :class => "span12" }, :required => true, :label => "Short Name of Indicator"  %>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<%= f.input :goal_ids, :as => :select, :collection => Goal.all, :selected => @current_indicator.goal_ids, :input_html => { :class => "span12", :multiple => true }, :required => true, :label => "Associated Goal" %>
		</div>
		<div class="span6">
			<%= f.input :user_id, :as => :select, :collection => User.where(:controlling_unit => false), :selected => @current_indicator.user_id, :input_html => { :class => "span12" }, :required => true, :label => "Responsible" %>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<%= f.input :unit, :input_html => {:value => @current_indicator.unit, :class => "span12" }, :required => true, :as => :string, :label => "Unit" %>
		</div>		
		<div class="span6">
			<div class="span6">
			<%= f.input :actual, :input_html => {:value => @current_indicator.actual, :class => "span12" }, :required => true, :as => :number, :label => "Actual Values" %>
			</div>
			<div class="span6">
			<%= f.input :target, :input_html => {:value => @current_indicator.target, :class => "span12" }, :required => true, :as => :number, :label => "Target Values" %>
			</div>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<%= f.input :description, :as => :text, :input_html => { :value => @current_indicator.description, :rows => 5,:class => "span12" }, :label => "Description of Indicator" %>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<%= f.input :source, :input_html => {:value => @current_indicator.source, :class => "span12", :rows => 2 }, :required => true, :as => :text, :label => "Source" %>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<div class="form-inline">
			<%= f.input :freq, :required => true, :as => :check_boxes, :collection => [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], :label => "Frequency of Acquisition" %>
			</div>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<div class="span6">
			<%= f.input :indicator_type, :input_html => { :class => "span12" }, :required => true, :as => :select, :collection => ["Average", "Cumulative"], :selected => @current_indicator.indicator_type, :label => "Indicator Type" %>
			</div>
			<div class="span6">
			<%= f.input :dir, :input_html => { :class => "span12" }, :required => true, :as => :select, :collection => ["More is Better", "Less is Better"], :selected => @current_indicator.dir, :label => "Target Direction" %>
			</div>
		</div>
	</div>
	<div class="row-fluid">
		<div class="span6">
			<div class="span6">
			<%= f.input :random, :as => :text, :input_html => { :value => @projects, :rows => 5, :class => "span12", :disabled => true }, :label => "Associated Projects" %>
			</div>
			<div class="span6">
			<%= f.input :notes, :as => :text, :input_html => { :value => @current_indicator.notes, :rows => 5, :class => "span12" }, :label => "Notes" %>
			</div>
		</div>
	</div>
	<% end %>
	<center>
		<div class="row-fluid">
			<%= f.action :submit, :label => "Confirm Indicator",:button_html => { :class=> "btn btn-primary span4" }%>
			<input type=button class="btn btn-danger span4" value= "<%= I18n.t :cancel%>" onclick= "history.back()">
			</input>
		</div>
	</center>
	<% end %>
</div>

<script>
/*if ($('#freq').val() == "S") {
	str = "#indicator_freq_s";
}
$(str).prop("checked", true)*/

$("#stringfreq").hide();
$('input[name="indicator[string_freq]"]').click(function(event)
	{
		if ($('#indicator_string_freq_s').is(":checked")) {
			$('#stringfreq').show();
		} else {
			$('#stringfreq').hide();
		}
	});
</script>
