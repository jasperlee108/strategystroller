<h2>Sign in</h2>

<%= form_for(resource, :as => resource_name, :url => session_path(resource_name), :html => { :class => "custom_form" }) do |f| %>
    <% if devise_error_messages! != "" %>
  <div class="alert"><%= devise_error_messages! %></div>
  <% end %>

  <div class="wrapper">
  <div><%= f.label :email %>
  <%= f.text_field :email, :autofocus => true %></div>
    <!-- TODO this replaces f.email_field with f.text_field for generic login functionality with either UN or email,
     which I believe breaks auto form checking for a well-formed email -->

  <div><%= f.label :password %>
  <%= f.password_field :password %></div>

  <% if devise_mapping.rememberable? -%>
    <div><%= f.check_box :remember_me %> <%= f.label (t :remember_me)%></div>
  <% end -%>

  <div><%= f.submit "Sign in" %></div>
<% end %>
<br/>
<br/>
<%= render "devise/shared/links" %>
